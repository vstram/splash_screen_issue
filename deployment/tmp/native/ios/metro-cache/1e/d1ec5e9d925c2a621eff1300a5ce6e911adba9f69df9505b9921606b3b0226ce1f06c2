{"dependencies":[{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":183,"column":0,"index":5846}}],"key":"ohGilxjVqjyE1GooDVDt9OYg9x0="}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":183,"column":0,"index":5846}}],"key":"V6GYoXnblvuuGHJNMy7MHyaunsU="}},{"name":"../Utilities/infoLog","data":{"asyncType":null,"locs":[{"start":{"line":13,"column":16,"index":253},"end":{"line":13,"column":47,"index":284}}],"key":"te7FMDljSHoh4Ptoq0ebhkaWbSA="}},{"name":"invariant","data":{"asyncType":null,"locs":[{"start":{"line":14,"column":18,"index":304},"end":{"line":14,"column":38,"index":324}}],"key":"Fzi/BpZws2YooIGJ9b6u0HJtuks="}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,_e,d){'use strict';var e=r(d[0]),t=r(d[1]),u=(r(d[2]),r(d[3])),s=(function(){function s(t){var u=t.onMoreTasks;e(this,s),this._onMoreTasks=u,this._queueStack=[{tasks:[],popable:!1}]}return t(s,[{key:\"enqueue\",value:function(e){this._getCurrentQueue().push(e)}},{key:\"enqueueTasks\",value:function(e){var t=this;e.forEach(function(e){return t.enqueue(e)})}},{key:\"cancelTasks\",value:function(e){this._queueStack=this._queueStack.map(function(t){return Object.assign({},t,{tasks:t.tasks.filter(function(t){return-1===e.indexOf(t)})})}).filter(function(e,t){return e.tasks.length>0||0===t})}},{key:\"hasTasksToProcess\",value:function(){return this._getCurrentQueue().length>0}},{key:\"processNext\",value:function(){var e=this._getCurrentQueue();if(e.length){var t=e.shift();try{'object'==typeof t&&t.gen?this._genPromise(t):'object'==typeof t&&t.run?t.run():(u('function'==typeof t,'Expected Function, SimpleTask, or PromiseTask, but got:\\n'+JSON.stringify(t,null,2)),t())}catch(e){throw e.message='TaskQueue: Error with task '+(t.name||'')+': '+e.message,e}}}},{key:\"_getCurrentQueue\",value:function(){var e=this._queueStack.length-1,t=this._queueStack[e];return t.popable&&0===t.tasks.length&&this._queueStack.length>1?(this._queueStack.pop(),this._getCurrentQueue()):t.tasks}},{key:\"_genPromise\",value:function(e){var t=this;this._queueStack.push({tasks:[],popable:!1});var u=this._queueStack.length-1,s=this._queueStack[u];e.gen().then(function(){s.popable=!0,t.hasTasksToProcess()&&t._onMoreTasks()}).catch(function(t){setTimeout(function(){throw t.message=\"TaskQueue: Error resolving Promise in task \"+e.name+\": \"+t.message,t},0)})}}]),s})();m.exports=s});","lineCount":1,"map":[[1,29,11,0],[1,42,11,13],[1,46,11,13,"_classCallCheck"],[1,48,11,13,"r"],[1,50,11,13,"d"],[1,52,11,13],[1,56,11,13,"_createClass"],[1,58,11,13,"r"],[1,60,11,13,"d"],[1,62,11,13],[1,66,14,6,"invariant"],[1,69,13,16,"require"],[1,71,13,23,"d"],[1,73,13,23],[1,77,14,18,"require"],[1,79,14,25,"d"],[1,81,14,25],[1,86,44,6,"TaskQueue"],[1,89,44,15],[1,100,52,2],[1,109,52,2,"TaskQueue"],[1,111,52,2,"_ref"],[1,114,52,61],[1,118,52,15,"onMoreTasks"],[1,120,52,26,"_ref"],[1,122,52,15,"onMoreTasks"],[1,134,52,26,"_classCallCheck"],[1,136,52,26,"this"],[1,141,52,26,"TaskQueue"],[1,144,53,4,"this"],[1,149,53,9,"_onMoreTasks"],[1,162,53,24,"onMoreTasks"],[1,164,54,4,"this"],[1,169,54,9,"_queueStack"],[1,183,54,25,"tasks"],[1,192,54,36,"popable"],[1,201,54,45],[1,205,179,3],[1,212,55,3,"_createClass"],[1,214,55,3,"TaskQueue"],[1,218,55,3,"key"],[1,222,55,3],[1,232,55,3,"value"],[1,238,62,2],[1,247,62,10,"task"],[1,250,63,4,"this"],[1,255,63,9,"_getCurrentQueue"],[1,274,63,28,"push"],[1,279,63,33,"task"],[1,285,64,3,"key"],[1,289,64,3],[1,304,64,3,"value"],[1,310,66,2],[1,319,66,15,"tasks"],[1,322,66,41],[1,326,66,41,"_this"],[1,328,66,41,"this"],[1,333,67,4,"tasks"],[1,335,67,10,"forEach"],[1,343,67,18],[1,352,67,18,"task"],[1,355,67,22],[1,362,67,26,"_this"],[1,364,67,31,"enqueue"],[1,372,67,39,"task"],[1,380,68,3,"key"],[1,384,68,3],[1,398,68,3,"value"],[1,404,70,2],[1,413,70,14,"tasksToCancel"],[1,416,72,4,"this"],[1,421,72,9,"_queueStack"],[1,433,72,23,"this"],[1,438,72,28,"_queueStack"],[1,450,73,7,"map"],[1,454,73,11],[1,463,73,11,"queue"],[1,466,73,16],[1,473,73,16,"Object"],[1,480,73,16,"assign"],[1,490,74,11,"queue"],[1,493,75,8,"tasks"],[1,499,75,15,"queue"],[1,501,75,21,"tasks"],[1,507,75,27,"filter"],[1,514,75,34],[1,523,75,34,"task"],[1,526,75,38],[1,533,75,69],[1,537,75,42,"tasksToCancel"],[1,539,75,56,"indexOf"],[1,547,75,64,"task"],[1,556,77,7,"filter"],[1,563,77,14],[1,572,77,15,"queue"],[1,574,77,22,"idx"],[1,577,77,25],[1,584,77,30,"queue"],[1,586,77,36,"tasks"],[1,592,77,42,"length"],[1,599,77,51],[1,602,77,64],[1,606,77,56,"idx"],[1,613,78,3,"key"],[1,617,78,3],[1,637,78,3,"value"],[1,643,90,2],[1,654,91,4],[1,661,91,11,"this"],[1,666,91,16,"_getCurrentQueue"],[1,685,91,35,"length"],[1,692,91,44],[1,697,92,3,"key"],[1,701,92,3],[1,715,92,3,"value"],[1,721,97,2],[1,732,98,4],[1,736,98,10,"queue"],[1,738,98,18,"this"],[1,743,98,23,"_getCurrentQueue"],[1,762,99,4],[1,765,99,8,"queue"],[1,767,99,14,"length"],[1,774,99,22],[1,775,100,6],[1,779,100,12,"task"],[1,781,100,19,"queue"],[1,783,100,25,"shift"],[1,791,101,6],[1,795,102,28],[1,812,102,19,"task"],[1,815,102,40,"task"],[1,817,102,45,"gen"],[1,821,104,10,"this"],[1,826,104,15,"_genPromise"],[1,838,104,27,"task"],[1,841,105,35],[1,858,105,26,"task"],[1,861,105,47,"task"],[1,863,105,52,"run"],[1,867,107,10,"task"],[1,869,107,15,"run"],[1,876,109,10,"invariant"],[1,878,110,28],[1,897,110,19,"task"],[1,899,111,12],[1,959,112,14,"JSON"],[1,964,112,19,"stringify"],[1,974,112,29,"task"],[1,976,112,35],[1,981,112,41],[1,985,115,10,"task"],[1,990,117,8],[1,996,117,15,"e"],[1,999,120,8],[1,1005,118,8,"e"],[1,1007,118,10,"message"],[1,1015,119,10],[1,1046,119,43,"task"],[1,1048,119,48,"name"],[1,1054,119,56],[1,1058,119,62],[1,1063,119,69,"e"],[1,1065,119,71,"message"],[1,1073,120,14,"e"],[1,1080,123,3,"key"],[1,1084,123,3],[1,1103,123,3,"value"],[1,1109,132,2],[1,1120,133,4],[1,1124,133,10,"stackIdx"],[1,1126,133,21,"this"],[1,1131,133,26,"_queueStack"],[1,1143,133,38,"length"],[1,1150,133,47],[1,1152,134,10,"queue"],[1,1154,134,18,"this"],[1,1159,134,23,"_queueStack"],[1,1171,134,35,"stackIdx"],[1,1174,135,4],[1,1181,136,6,"queue"],[1,1183,136,12,"popable"],[1,1192,137,29],[1,1196,137,6,"queue"],[1,1198,137,12,"tasks"],[1,1204,137,18,"length"],[1,1212,138,6,"this"],[1,1217,138,11,"_queueStack"],[1,1229,138,23,"length"],[1,1236,138,32],[1,1239,140,6,"this"],[1,1244,140,11,"_queueStack"],[1,1256,140,23,"pop"],[1,1262,146,13,"this"],[1,1267,146,18,"_getCurrentQueue"],[1,1287,148,13,"queue"],[1,1289,148,19,"tasks"],[1,1298,150,3,"key"],[1,1302,150,3],[1,1316,150,3,"value"],[1,1322,152,2],[1,1331,152,14,"task"],[1,1334,152,33],[1,1338,152,33,"_this2"],[1,1340,152,33,"this"],[1,1345,157,4,"this"],[1,1350,157,9,"_queueStack"],[1,1362,157,21,"push"],[1,1368,157,27,"tasks"],[1,1377,157,38,"popable"],[1,1386,157,47],[1,1390,158,4],[1,1394,158,10,"stackIdx"],[1,1396,158,21,"this"],[1,1401,158,26,"_queueStack"],[1,1413,158,38,"length"],[1,1420,158,47],[1,1422,159,10,"stackItem"],[1,1424,159,22,"this"],[1,1429,159,27,"_queueStack"],[1,1441,159,39,"stackIdx"],[1,1444,162,4,"task"],[1,1446,163,7,"gen"],[1,1452,164,7,"then"],[1,1457,164,12],[1,1468,170,8,"stackItem"],[1,1470,170,18,"popable"],[1,1479,170,28],[1,1481,171,8,"_this2"],[1,1483,171,13,"hasTasksToProcess"],[1,1504,171,36,"_this2"],[1,1506,171,41,"_onMoreTasks"],[1,1523,173,7,"catch"],[1,1529,173,13],[1,1538,173,13,"ex"],[1,1541,174,8,"setTimeout"],[1,1552,174,19],[1,1563,176,10],[1,1569,175,10,"ex"],[1,1571,175,13,"message"],[1,1579,175,20],[1,1625,175,69,"task"],[1,1627,175,74,"name"],[1,1632,175,78],[1,1637,175,83,"ex"],[1,1639,175,86,"message"],[1,1647,176,16,"ex"],[1,1650,177,11],[1,1659,179,3,"TaskQueue"],[1,1662,44,15],[1,1665,182,0,"module"],[1,1667,182,7,"exports"],[1,1675,182,17,"TaskQueue"]],"functionMap":{"names":["<global>","TaskQueue","constructor","enqueue","enqueueTasks","tasks.forEach$argument_0","cancelTasks","_queueStack.map$argument_0","queue.tasks.filter$argument_0","_queueStack.map.filter$argument_0","hasTasksToProcess","processNext","_getCurrentQueue","_genPromise","task.gen.then$argument_0","task.gen.then._catch$argument_0","setTimeout$argument_0"],"mappings":"AAA;AC2C;ECQ;GDG;EEO;GFE;EGE;kBCC,0BD;GHC;EKE;WCG;kCCE,0CD;QDC;cGC,mDH;GLC;ESY;GTE;EUK;GV0B;EWS;GXkB;EYE;YCY;ODQ;aEC;mBCC;SDG;OFC;GZC;CDC"}},"type":"js/module"}]}