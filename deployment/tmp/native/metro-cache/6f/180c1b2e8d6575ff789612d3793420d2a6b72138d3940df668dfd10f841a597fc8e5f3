{"dependencies":[{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":243,"column":0,"index":7277}}],"key":"V6GYoXnblvuuGHJNMy7MHyaunsU="}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":243,"column":0,"index":7277}}],"key":"ohGilxjVqjyE1GooDVDt9OYg9x0="}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),s=t(function t(){n(this,t),this.any_blank_count=0,this.any_blank_ms=0,this.any_blank_speed_sum=0,this.mostly_blank_count=0,this.mostly_blank_ms=0,this.pixels_blank=0,this.pixels_sampled=0,this.pixels_scrolled=0,this.total_time_spent=0,this.sample_count=0}),l=[],_=10,o=null,h=(function(){function h(t){n(this,h),this._anyBlankStartTime=null,this._enabled=!1,this._info=new s,this._mostlyBlankStartTime=null,this._samplesStartTime=null,this._getFrameMetrics=t,this._enabled=(o||0)>Math.random(),this._resetData()}return t(h,[{key:\"activate\",value:function(){this._enabled&&null==this._samplesStartTime&&(this._samplesStartTime=g.performance.now())}},{key:\"deactivateAndFlush\",value:function(){if(this._enabled){var t=this._samplesStartTime;if(null!=t)if(this._info.sample_count<_)this._resetData();else{var n=g.performance.now()-t,s=Object.assign({},this._info,{total_time_spent:n});l.forEach(function(t){return t(s)}),this._resetData()}}}},{key:\"computeBlankness\",value:function(t,n,s){if(!this._enabled||0===t.getItemCount(t.data)||null==this._samplesStartTime)return 0;var l=s.dOffset,_=s.offset,o=s.velocity,h=s.visibleLength;this._info.sample_count++,this._info.pixels_sampled+=Math.round(h),this._info.pixels_scrolled+=Math.round(Math.abs(l));var u=Math.round(1e3*Math.abs(o)),f=g.performance.now();null!=this._anyBlankStartTime&&(this._info.any_blank_ms+=f-this._anyBlankStartTime),this._anyBlankStartTime=null,null!=this._mostlyBlankStartTime&&(this._info.mostly_blank_ms+=f-this._mostlyBlankStartTime),this._mostlyBlankStartTime=null;for(var c=0,k=n.first,y=this._getFrameMetrics(k);k<=n.last&&(!y||!y.inLayout);)y=this._getFrameMetrics(k),k++;y&&k>0&&(c=Math.min(h,Math.max(0,y.offset-_)));for(var p=0,b=n.last,v=this._getFrameMetrics(b);b>=n.first&&(!v||!v.inLayout);)v=this._getFrameMetrics(b),b--;if(v&&b<t.getItemCount(t.data)-1){var S=v.offset+v.length;p=Math.min(h,Math.max(0,_+h-S))}var M=Math.round(c+p),T=M/h;return T>0?(this._anyBlankStartTime=f,this._info.any_blank_speed_sum+=u,this._info.any_blank_count++,this._info.pixels_blank+=M,T>.5&&(this._mostlyBlankStartTime=f,this._info.mostly_blank_count++)):(u<.01||Math.abs(l)<1)&&this.deactivateAndFlush(),T}},{key:\"enabled\",value:function(){return this._enabled}},{key:\"_resetData\",value:function(){this._anyBlankStartTime=null,this._info=new s,this._mostlyBlankStartTime=null,this._samplesStartTime=null}}],[{key:\"addListener\",value:function(t){return null===o&&console.warn('Call `FillRateHelper.setSampleRate` before `addListener`.'),l.push(t),{remove:function(){l=l.filter(function(n){return t!==n})}}}},{key:\"setSampleRate\",value:function(t){o=t}},{key:\"setMinSampleCount\",value:function(t){_=t}}]),h})();m.exports=h});","lineCount":1,"map":[[1,28,11,0],[1,41,11,13],[1,45,11,13,"_createClass"],[1,47,11,13,"r"],[1,49,11,13,"d"],[1,51,11,13],[1,55,11,13,"_classCallCheck"],[1,57,11,13,"r"],[1,59,11,13,"d"],[1,61,11,13],[1,65,15,6,"Info"],[1,67,15,10,"_createClass"],[1,69,15,10],[1,78,15,10,"Info"],[1,82,15,10,"_classCallCheck"],[1,84,15,10,"this"],[1,89,15,10,"Info"],[1,92,15,10,"this"],[1,97,16,2,"any_blank_count"],[1,113,16,28],[1,115,16,29,"this"],[1,120,17,2,"any_blank_ms"],[1,133,17,25],[1,135,17,26,"this"],[1,140,18,2,"any_blank_speed_sum"],[1,160,18,32],[1,162,18,33,"this"],[1,167,19,2,"mostly_blank_count"],[1,186,19,31],[1,188,19,32,"this"],[1,193,20,2,"mostly_blank_ms"],[1,209,20,28],[1,211,20,29,"this"],[1,216,21,2,"pixels_blank"],[1,229,21,25],[1,231,21,26,"this"],[1,236,22,2,"pixels_sampled"],[1,251,22,27],[1,253,22,28,"this"],[1,258,23,2,"pixels_scrolled"],[1,274,23,28],[1,276,23,29,"this"],[1,281,24,2,"total_time_spent"],[1,298,24,29],[1,300,24,30,"this"],[1,305,25,2,"sample_count"],[1,318,25,25],[1,322,37,4,"_listeners"],[1,327,38,4,"_minSampleCount"],[1,329,38,22],[1,332,39,4,"_sampleRate"],[1,334,39,30],[1,339,49,6,"FillRateHelper"],[1,342,49,20],[1,353,80,2],[1,362,80,2,"FillRateHelper"],[1,364,80,14,"getFrameMetrics"],[1,367,80,65,"_classCallCheck"],[1,369,80,65,"this"],[1,374,80,65,"FillRateHelper"],[1,377,80,65,"this"],[1,382,50,2,"_anyBlankStartTime"],[1,401,50,24],[1,406,50,28,"this"],[1,411,51,2,"_enabled"],[1,421,51,13],[1,423,51,18,"this"],[1,428,53,2,"_info"],[1,434,53,10],[1,438,53,14,"Info"],[1,440,53,20,"this"],[1,445,54,2,"_mostlyBlankStartTime"],[1,467,54,27],[1,472,54,31,"this"],[1,477,55,2,"_samplesStartTime"],[1,495,55,23],[1,500,81,4,"this"],[1,505,81,9,"_getFrameMetrics"],[1,522,81,28,"getFrameMetrics"],[1,524,82,4,"this"],[1,529,82,9,"_enabled"],[1,539,82,21,"_sampleRate"],[1,542,82,36],[1,545,82,41,"Math"],[1,550,82,46,"random"],[1,559,83,4,"this"],[1,564,83,9,"_resetData"],[1,577,78,3],[1,584,84,3,"_createClass"],[1,586,84,3,"FillRateHelper"],[1,590,84,3,"key"],[1,594,84,3],[1,605,84,3,"value"],[1,611,86,2],[1,622,87,8,"this"],[1,627,87,13,"_enabled"],[1,637,87,51],[1,643,87,25,"this"],[1,648,87,30,"_samplesStartTime"],[1,668,89,6,"this"],[1,673,89,11,"_samplesStartTime"],[1,691,89,31,"global"],[1,693,89,38,"performance"],[1,705,89,50,"now"],[1,715,91,3,"key"],[1,719,91,3],[1,740,91,3,"value"],[1,746,93,2],[1,757,94,4],[1,760,94,9,"this"],[1,765,94,14,"_enabled"],[1,774,94,4],[1,775,97,4],[1,779,97,10,"start"],[1,781,97,18,"this"],[1,786,97,23,"_samplesStartTime"],[1,804,98,4],[1,807,98,17],[1,813,98,8,"start"],[1,815,103,4],[1,818,103,8,"this"],[1,823,103,13,"_info"],[1,829,103,19,"sample_count"],[1,842,103,34,"_minSampleCount"],[1,844,105,6,"this"],[1,849,105,11,"_resetData"],[1,866,103,4],[1,867,108,4],[1,871,108,10,"total_time_spent"],[1,873,108,29,"global"],[1,875,108,36,"performance"],[1,887,108,48,"now"],[1,893,108,56,"start"],[1,895,109,10,"info"],[1,897,109,19,"Object"],[1,904,109,19,"assign"],[1,914,110,9,"this"],[1,919,110,14,"_info"],[1,926,111,6,"total_time_spent"],[1,943,111,6,"total_time_spent"],[1,947,131,4,"_listeners"],[1,949,131,15,"forEach"],[1,957,131,23],[1,966,131,23,"listener"],[1,969,131,31],[1,976,131,35,"listener"],[1,978,131,44,"info"],[1,983,132,4,"this"],[1,988,132,9,"_resetData"],[1,1006,133,3,"key"],[1,1010,133,3],[1,1029,133,3,"value"],[1,1035,135,2],[1,1044,136,4,"props"],[1,1046,142,4,"state"],[1,1048,147,4,"scrollMetrics"],[1,1051,155,4],[1,1055,156,7,"this"],[1,1060,156,12,"_enabled"],[1,1070,157,41],[1,1074,157,6,"props"],[1,1076,157,12,"getItemCount"],[1,1089,157,25,"props"],[1,1091,157,31,"data"],[1,1098,158,32],[1,1104,158,6,"this"],[1,1109,158,11,"_samplesStartTime"],[1,1127,160,6],[1,1134,160,13],[1,1136,162,4],[1,1140,162,11,"dOffset"],[1,1142,162,55,"scrollMetrics"],[1,1144,162,11,"dOffset"],[1,1152,162,20,"offset"],[1,1154,162,55,"scrollMetrics"],[1,1156,162,20,"offset"],[1,1163,162,28,"velocity"],[1,1165,162,55,"scrollMetrics"],[1,1167,162,28,"velocity"],[1,1176,162,38,"visibleLength"],[1,1178,162,55,"scrollMetrics"],[1,1180,162,38,"visibleLength"],[1,1194,166,4,"this"],[1,1199,166,9,"_info"],[1,1205,166,15,"sample_count"],[1,1220,167,4,"this"],[1,1225,167,9,"_info"],[1,1231,167,15,"pixels_sampled"],[1,1247,167,33,"Math"],[1,1252,167,38,"round"],[1,1258,167,44,"visibleLength"],[1,1261,168,4,"this"],[1,1266,168,9,"_info"],[1,1272,168,15,"pixels_scrolled"],[1,1289,168,34,"Math"],[1,1294,168,39,"round"],[1,1300,168,45,"Math"],[1,1305,168,50,"abs"],[1,1309,168,54,"dOffset"],[1,1313,169,4],[1,1317,169,10,"scrollSpeed"],[1,1319,169,24,"Math"],[1,1324,169,29,"round"],[1,1330,169,56],[1,1334,169,35,"Math"],[1,1339,169,40,"abs"],[1,1343,169,44,"velocity"],[1,1347,172,10,"now"],[1,1349,172,16,"global"],[1,1351,172,23,"performance"],[1,1363,172,35,"now"],[1,1369,173,35],[1,1375,173,8,"this"],[1,1380,173,13,"_anyBlankStartTime"],[1,1401,174,6,"this"],[1,1406,174,11,"_info"],[1,1412,174,17,"any_blank_ms"],[1,1426,174,33,"now"],[1,1428,174,39,"this"],[1,1433,174,44,"_anyBlankStartTime"],[1,1453,176,4,"this"],[1,1458,176,9,"_anyBlankStartTime"],[1,1477,176,30],[1,1482,177,38],[1,1488,177,8,"this"],[1,1493,177,13,"_mostlyBlankStartTime"],[1,1517,178,6,"this"],[1,1522,178,11,"_info"],[1,1528,178,17,"mostly_blank_ms"],[1,1545,178,36,"now"],[1,1547,178,42,"this"],[1,1552,178,47,"_mostlyBlankStartTime"],[1,1575,180,4,"this"],[1,1580,180,9,"_mostlyBlankStartTime"],[1,1602,180,33],[1,1607,185,4],[1,1611,182,4],[1,1615,182,8,"blankTop"],[1,1617,182,19],[1,1619,183,8,"first"],[1,1621,183,16,"state"],[1,1623,183,22,"first"],[1,1629,184,8,"firstFrame"],[1,1631,184,21,"this"],[1,1636,184,26,"_getFrameMetrics"],[1,1653,184,43,"first"],[1,1656,185,11,"first"],[1,1659,185,20,"state"],[1,1661,185,26,"last"],[1,1669,185,36,"firstFrame"],[1,1673,185,51,"firstFrame"],[1,1675,185,62,"inLayout"],[1,1686,186,6,"firstFrame"],[1,1688,186,19,"this"],[1,1693,186,24,"_getFrameMetrics"],[1,1710,186,41,"first"],[1,1713,187,6,"first"],[1,1717,191,8,"firstFrame"],[1,1720,191,22,"first"],[1,1722,191,30],[1,1726,192,6,"blankTop"],[1,1728,192,17,"Math"],[1,1733,192,22,"min"],[1,1737,193,8,"visibleLength"],[1,1739,194,8,"Math"],[1,1744,194,13,"max"],[1,1748,194,17],[1,1750,194,20,"firstFrame"],[1,1752,194,31,"offset"],[1,1759,194,40,"offset"],[1,1764,200,4],[1,1768,197,4],[1,1772,197,8,"blankBottom"],[1,1774,197,22],[1,1776,198,8,"last"],[1,1778,198,15,"state"],[1,1780,198,21,"last"],[1,1785,199,8,"lastFrame"],[1,1787,199,20,"this"],[1,1792,199,25,"_getFrameMetrics"],[1,1809,199,42,"last"],[1,1812,200,11,"last"],[1,1815,200,19,"state"],[1,1817,200,25,"first"],[1,1826,200,36,"lastFrame"],[1,1830,200,50,"lastFrame"],[1,1832,200,60,"inLayout"],[1,1843,201,6,"lastFrame"],[1,1845,201,18,"this"],[1,1850,201,23,"_getFrameMetrics"],[1,1867,201,40,"last"],[1,1870,202,6,"last"],[1,1874,206,4],[1,1877,206,8,"lastFrame"],[1,1880,206,21,"last"],[1,1882,206,28,"props"],[1,1884,206,34,"getItemCount"],[1,1897,206,47,"props"],[1,1899,206,53,"data"],[1,1905,206,61],[1,1907,206,64],[1,1908,207,6],[1,1912,207,12,"bottomEdge"],[1,1914,207,25,"lastFrame"],[1,1916,207,35,"offset"],[1,1923,207,44,"lastFrame"],[1,1925,207,54,"length"],[1,1932,208,6,"blankBottom"],[1,1934,208,20,"Math"],[1,1939,208,25,"min"],[1,1943,209,8,"visibleLength"],[1,1945,210,8,"Math"],[1,1950,210,13,"max"],[1,1954,210,17],[1,1956,210,20,"offset"],[1,1958,210,29,"visibleLength"],[1,1960,210,45,"bottomEdge"],[1,1964,213,4],[1,1968,213,10,"pixels_blank"],[1,1970,213,25,"Math"],[1,1975,213,30,"round"],[1,1981,213,36,"blankTop"],[1,1983,213,47,"blankBottom"],[1,1986,214,10,"blankness"],[1,1988,214,22,"pixels_blank"],[1,1990,214,37,"visibleLength"],[1,1992,227,4],[1,1999,215,8,"blankness"],[1,2001,215,20],[1,2004,216,6,"this"],[1,2009,216,11,"_anyBlankStartTime"],[1,2028,216,32,"now"],[1,2030,217,6,"this"],[1,2035,217,11,"_info"],[1,2041,217,17,"any_blank_speed_sum"],[1,2062,217,40,"scrollSpeed"],[1,2064,218,6,"this"],[1,2069,218,11,"_info"],[1,2075,218,17,"any_blank_count"],[1,2093,219,6,"this"],[1,2098,219,11,"_info"],[1,2104,219,17,"pixels_blank"],[1,2118,219,33,"pixels_blank"],[1,2120,220,10,"blankness"],[1,2122,220,22],[1,2127,221,8,"this"],[1,2132,221,13,"_mostlyBlankStartTime"],[1,2154,221,37,"now"],[1,2156,222,8,"this"],[1,2161,222,13,"_info"],[1,2167,222,19,"mostly_blank_count"],[1,2191,224,15,"scrollSpeed"],[1,2193,224,29],[1,2198,224,37,"Math"],[1,2203,224,42,"abs"],[1,2207,224,46,"dOffset"],[1,2210,224,57],[1,2214,225,6,"this"],[1,2219,225,11,"deactivateAndFlush"],[1,2240,227,11,"blankness"],[1,2245,228,3,"key"],[1,2249,228,3],[1,2259,228,3,"value"],[1,2265,230,2],[1,2276,231,4],[1,2283,231,11,"this"],[1,2288,231,16,"_enabled"],[1,2300,232,3,"key"],[1,2304,232,3],[1,2317,232,3,"value"],[1,2323,234,2],[1,2334,235,4,"this"],[1,2339,235,9,"_anyBlankStartTime"],[1,2358,235,30],[1,2363,236,4,"this"],[1,2368,236,9,"_info"],[1,2374,236,17],[1,2378,236,21,"Info"],[1,2380,237,4,"this"],[1,2385,237,9,"_mostlyBlankStartTime"],[1,2407,237,33],[1,2412,238,4,"this"],[1,2417,238,9,"_samplesStartTime"],[1,2435,238,29],[1,2445,239,3,"key"],[1,2449,239,3],[1,2463,239,3,"value"],[1,2469,57,2],[1,2478,57,21,"callback"],[1,2481,65,4],[1,2488,61,24],[1,2495,61,8,"_sampleRate"],[1,2498,62,6,"console"],[1,2506,62,14,"warn"],[1,2511,62,19],[1,2572,64,4,"_listeners"],[1,2574,64,15,"push"],[1,2579,64,20,"callback"],[1,2583,66,6,"remove"],[1,2590,66,14],[1,2601,67,8,"_listeners"],[1,2603,67,21,"_listeners"],[1,2605,67,32,"filter"],[1,2612,67,39],[1,2621,67,39,"listener"],[1,2624,67,47],[1,2631,67,51,"callback"],[1,2635,67,64,"listener"],[1,2644,70,3,"key"],[1,2648,70,3],[1,2664,70,3,"value"],[1,2670,72,2],[1,2679,72,23,"sampleRate"],[1,2682,73,4,"_sampleRate"],[1,2684,73,18,"sampleRate"],[1,2689,74,3,"key"],[1,2693,74,3],[1,2713,74,3,"value"],[1,2719,76,2],[1,2728,76,27,"minSampleCount"],[1,2731,77,4,"_minSampleCount"],[1,2733,77,22,"minSampleCount"],[1,2739,78,3,"FillRateHelper"],[1,2742,49,20],[1,2745,242,0,"module"],[1,2747,242,7,"exports"],[1,2755,242,17,"FillRateHelper"]],"functionMap":{"names":["<global>","Info","FillRateHelper","addListener","remove","_listeners.filter$argument_0","setSampleRate","setMinSampleCount","constructor","activate","deactivateAndFlush","_listeners.forEach$argument_0","computeBlankness","enabled","_resetData"],"mappings":"AAA;ACc;CDW;AEuB;ECQ;cCS;uCCC,iCD;ODC;GDE;EIE;GJE;EKE;GLE;EME;GNI;EOE;GPK;EQE;uBCsC,0BD;GRE;EUE;GV6F;EWE;GXE;EYE;GZK;CFC"}},"type":"js/module"}]}